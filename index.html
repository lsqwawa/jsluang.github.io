<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="言言堂">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="言言堂">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="xxlxl">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://example.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>言言堂</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">言言堂</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/22/%E5%89%8D%E7%AB%AF%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84npm%E4%BE%9D%E8%B5%96%E5%AE%89%E8%A3%85%E7%9A%84%E9%97%AE%E9%A2%98/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="xxlxl">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="言言堂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/22/%E5%89%8D%E7%AB%AF%E5%8F%AF%E8%83%BD%E9%81%87%E5%88%B0%E7%9A%84npm%E4%BE%9D%E8%B5%96%E5%AE%89%E8%A3%85%E7%9A%84%E9%97%AE%E9%A2%98/" class="post-title-link" itemprop="url">前端可能遇到的npm依赖安装的问题</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-03-22 16:28:51 / 修改时间：16:29:56" itemprop="dateCreated datePublished" datetime="2022-03-22T16:28:51+08:00">2022-03-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="关于项目中关于node依赖的相关问题"><a href="#关于项目中关于node依赖的相关问题" class="headerlink" title="关于项目中关于node依赖的相关问题"></a>关于项目中关于node依赖的相关问题</h2><p>本文仅在于记录本人在项目依赖安装过程中遇到的一些问题的总结</p>
<h3 id="npm-install时-报错-install-node-install-js安装失败"><a href="#npm-install时-报错-install-node-install-js安装失败" class="headerlink" title="npm install时,报错 install: node install.js安装失败"></a>npm install时,报错 install: <code>node install.js</code>安装失败</h3><p>npm install的时候报错：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm ERR! mozjpeg@7.0.0 postinstall: `node lib/install.js`</span><br><span class="line">npm ERR! Exit status 1</span><br><span class="line">npm ERR!</span><br><span class="line">npm ERR! Failed at the mozjpeg@7.0.0 postinstall script.</span><br><span class="line">npm ERR! This is probably not a problem with npm. There is likely additional logging output above.</span><br></pre></td></tr></table></figure>

<p>解决方案：</p>
<p>1、添加参数，忽略script</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --ignore-scripts</span><br></pre></td></tr></table></figure>

<p>2、更换数据源</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install chromedriver --chromedriver_cdnurl=http://cdn.npm.taobao.org/dist/chromedriver</span><br></pre></td></tr></table></figure>

<h3 id="有关vue项目搭建用到的依赖安装"><a href="#有关vue项目搭建用到的依赖安装" class="headerlink" title="有关vue项目搭建用到的依赖安装"></a>有关vue项目搭建用到的依赖安装</h3><h4 id="1、webpack-bundle-analyzer插件"><a href="#1、webpack-bundle-analyzer插件" class="headerlink" title="1、webpack-bundle-analyzer插件"></a>1、webpack-bundle-analyzer插件</h4><p>读取输出文件夹（通常是dist）中的stats.json文件，把该文件可视化展现的插件。便于直观地比较各个bundle文件的大小，以达到优化性能的目的。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-bundle-analyzer --save-dev</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">webpackConfig.<span class="property">plugins</span>.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title class_">BundleAnalyzerPlugin</span>(&#123;</span><br><span class="line">...</span><br><span class="line">&#125;))</span><br></pre></td></tr></table></figure>

<h4 id="2、压缩图片"><a href="#2、压缩图片" class="headerlink" title="2、压缩图片"></a>2、压缩图片</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i -D image-webpack-loader</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">chainWebpack</span>: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 压缩图片</span></span><br><span class="line">    config.<span class="property">module</span></span><br><span class="line">      .<span class="title function_">rule</span>(<span class="string">&#x27;images&#x27;</span>)</span><br><span class="line">      .<span class="title function_">use</span>(<span class="string">&#x27;image-webpack-loader&#x27;</span>)</span><br><span class="line">      .<span class="title function_">loader</span>(<span class="string">&#x27;image-webpack-loader&#x27;</span>)</span><br><span class="line">      .<span class="title function_">options</span>(&#123;</span><br><span class="line">        <span class="attr">mozjpeg</span>: &#123; <span class="attr">progressive</span>: <span class="literal">true</span>, <span class="attr">quality</span>: <span class="number">65</span> &#125;,</span><br><span class="line">        <span class="attr">optipng</span>: &#123; <span class="attr">enabled</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">        <span class="attr">pngquant</span>: &#123; <span class="attr">quality</span>: <span class="string">&#x27;65-90&#x27;</span>, <span class="attr">speed</span>: <span class="number">4</span> &#125;,</span><br><span class="line">        <span class="attr">gifsicle</span>: &#123; <span class="attr">interlaced</span>: <span class="literal">false</span> &#125;,</span><br><span class="line">        <span class="attr">webp</span>: &#123; <span class="attr">quality</span>: <span class="number">75</span> &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3、去掉注释、去掉console-log"><a href="#3、去掉注释、去掉console-log" class="headerlink" title="3、去掉注释、去掉console.log"></a>3、去掉注释、去掉console.log</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i uglifyjs-webpack-plugin</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">UglifyJsPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;uglifyjs-webpack-plugin&#x27;</span>) <span class="comment">// 去掉注释</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">configureWebpack</span>: <span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> myConfig = &#123;&#125;</span><br><span class="line">          <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">&#x27;production&#x27;</span>) &#123;</span><br><span class="line">          myConfig.<span class="property">plugins</span> = []</span><br><span class="line">          <span class="comment">// 去掉注释</span></span><br><span class="line">          <span class="comment">// 去掉注释</span></span><br><span class="line">          myConfig.<span class="property">plugins</span>.<span class="title function_">push</span>(</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">UglifyJsPlugin</span>(&#123;</span><br><span class="line">              <span class="attr">uglifyOptions</span>: &#123;</span><br><span class="line">                <span class="attr">output</span>: &#123;</span><br><span class="line">                  <span class="attr">comments</span>: <span class="literal">false</span>, <span class="comment">// 去掉注释</span></span><br><span class="line">                &#125;,</span><br><span class="line">                <span class="attr">compress</span>: &#123;</span><br><span class="line">                  <span class="attr">warnings</span>: <span class="literal">false</span>,</span><br><span class="line">                  <span class="attr">drop_console</span>: <span class="literal">true</span>,</span><br><span class="line">                  <span class="attr">drop_debugger</span>: <span class="literal">false</span>,</span><br><span class="line">                  <span class="attr">pure_funcs</span>: [<span class="string">&#x27;console.log&#x27;</span>]<span class="comment">//移除console</span></span><br><span class="line">              &#125;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4、使用commitizen来执行git提交规范"><a href="#4、使用commitizen来执行git提交规范" class="headerlink" title="4、使用commitizen来执行git提交规范"></a>4、使用commitizen来执行git提交规范</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 1.全局安装`commitizen`node模块  安装changelog，是生成changelog的工具</span><br><span class="line">npm install -g commitizen</span><br><span class="line">npm install -g conventional-changelog</span><br><span class="line">npm install -g conventional-changelog-cli</span><br><span class="line">// 2.在项目目录下运行命令</span><br><span class="line">commitizen init cz-conventional-changelog --save --save-exact</span><br><span class="line">// 3.此时可能会报找不到package.json的错误,使用下面命令来自动生成一个项目的package,然后在运行2中的命令.</span><br><span class="line">npm init --yes</span><br><span class="line"></span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/22/%E5%89%8D%E7%AB%AF%E5%8F%AF%E8%83%BD%E7%94%A8%E5%88%B0%E7%9A%84JavaScript%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="xxlxl">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="言言堂">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/03/22/%E5%89%8D%E7%AB%AF%E5%8F%AF%E8%83%BD%E7%94%A8%E5%88%B0%E7%9A%84JavaScript%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">前端可能用到的JavaScript方法</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-03-22 16:27:02 / 修改时间：16:30:13" itemprop="dateCreated datePublished" datetime="2022-03-22T16:27:02+08:00">2022-03-22</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前端可能用到的JavaScript工具方法"><a href="#前端可能用到的JavaScript工具方法" class="headerlink" title="前端可能用到的JavaScript工具方法"></a>前端可能用到的JavaScript工具方法</h2><p>​        本文中的一些方法并不全是本人所写，有一些也是从网上查询到的，仅在此进行总结。</p>
<h4 id="1、根据url地址下载"><a href="#1、根据url地址下载" class="headerlink" title="1、根据url地址下载"></a>1、根据url地址下载</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">download</span> = (<span class="params">url</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> isChrome = navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>().<span class="title function_">indexOf</span>(<span class="string">&#x27;chrome&#x27;</span>) &gt; -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> isSafari = navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>().<span class="title function_">indexOf</span>(<span class="string">&#x27;safari&#x27;</span>) &gt; -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (isChrome || isSafari) &#123;</span><br><span class="line">        <span class="keyword">var</span> link = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        link.<span class="property">href</span> = url;</span><br><span class="line">        <span class="keyword">if</span> (link.<span class="property">download</span> !== <span class="literal">undefined</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> fileName = url.<span class="title function_">substring</span>(url.<span class="title function_">lastIndexOf</span>(<span class="string">&#x27;/&#x27;</span>) + <span class="number">1</span>, url.<span class="property">length</span>);</span><br><span class="line">            link.<span class="property">download</span> = fileName;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">createEvent</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> e = <span class="variable language_">document</span>.<span class="title function_">createEvent</span>(<span class="string">&#x27;MouseEvents&#x27;</span>);</span><br><span class="line">            e.<span class="title function_">initEvent</span>(<span class="string">&#x27;click&#x27;</span>, <span class="literal">true</span>, <span class="literal">true</span>);</span><br><span class="line">            link.<span class="title function_">dispatchEvent</span>(e);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (url.<span class="title function_">indexOf</span>(<span class="string">&#x27;?&#x27;</span>) === -<span class="number">1</span>) &#123;</span><br><span class="line">        url += <span class="string">&#x27;?download&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">open</span>(url, <span class="string">&#x27;_self&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2、获取滚动的坐标"><a href="#2、获取滚动的坐标" class="headerlink" title="2、获取滚动的坐标"></a>2、获取滚动的坐标</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">getScrollPosition</span> = (<span class="params">el = <span class="variable language_">window</span></span>) =&gt; (&#123;</span><br><span class="line">    <span class="attr">x</span>: el.<span class="property">pageXOffset</span> !== <span class="literal">undefined</span> ? el.<span class="property">pageXOffset</span> : el.<span class="property">scrollLeft</span>,</span><br><span class="line">    <span class="attr">y</span>: el.<span class="property">pageYOffset</span> !== <span class="literal">undefined</span> ? el.<span class="property">pageYOffset</span> : el.<span class="property">scrollTop</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="3、滚动到顶部"><a href="#3、滚动到顶部" class="headerlink" title="3、滚动到顶部"></a>3、滚动到顶部</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">scrollToTop</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> c = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>;</span><br><span class="line">    <span class="keyword">if</span> (c &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(scrollToTop);</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(<span class="number">0</span>, c - c / <span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4、将阿拉伯数字转换为中文大写"><a href="#4、将阿拉伯数字转换为中文大写" class="headerlink" title="4、将阿拉伯数字转换为中文大写"></a>4、将阿拉伯数字转换为中文大写</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">numberToChinese</span> = (<span class="params">num</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="variable constant_">AA</span> = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;零&quot;</span>, <span class="string">&quot;一&quot;</span>, <span class="string">&quot;二&quot;</span>, <span class="string">&quot;三&quot;</span>, <span class="string">&quot;四&quot;</span>, <span class="string">&quot;五&quot;</span>, <span class="string">&quot;六&quot;</span>, <span class="string">&quot;七&quot;</span>, <span class="string">&quot;八&quot;</span>, <span class="string">&quot;九&quot;</span>, <span class="string">&quot;十&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> <span class="variable constant_">BB</span> = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;&quot;</span>, <span class="string">&quot;十&quot;</span>, <span class="string">&quot;百&quot;</span>, <span class="string">&quot;仟&quot;</span>, <span class="string">&quot;萬&quot;</span>, <span class="string">&quot;億&quot;</span>, <span class="string">&quot;点&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> a = (<span class="string">&quot;&quot;</span> + num).<span class="title function_">replace</span>(<span class="regexp">/(^0*)/g</span>, <span class="string">&quot;&quot;</span>).<span class="title function_">split</span>(<span class="string">&quot;.&quot;</span>),</span><br><span class="line">        k = <span class="number">0</span>,</span><br><span class="line">        re = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = a[<span class="number">0</span>].<span class="property">length</span> - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">switch</span> (k) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                re = <span class="variable constant_">BB</span>[<span class="number">7</span>] + re;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                <span class="keyword">if</span> (!<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;0&#123;4&#125;//d&#123;&quot;</span> + (a[<span class="number">0</span>].<span class="property">length</span> - i - <span class="number">1</span>) + <span class="string">&quot;&#125;$&quot;</span>)</span><br><span class="line">                    .<span class="title function_">test</span>(a[<span class="number">0</span>]))</span><br><span class="line">                    re = <span class="variable constant_">BB</span>[<span class="number">4</span>] + re;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">                re = <span class="variable constant_">BB</span>[<span class="number">5</span>] + re;</span><br><span class="line">                <span class="variable constant_">BB</span>[<span class="number">7</span>] = <span class="variable constant_">BB</span>[<span class="number">5</span>];</span><br><span class="line">                k = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (k % <span class="number">4</span> == <span class="number">2</span> &amp;&amp; a[<span class="number">0</span>].<span class="title function_">charAt</span>(i + <span class="number">2</span>) != <span class="number">0</span> &amp;&amp; a[<span class="number">0</span>].<span class="title function_">charAt</span>(i + <span class="number">1</span>) == <span class="number">0</span>)</span><br><span class="line">            re = <span class="variable constant_">AA</span>[<span class="number">0</span>] + re;</span><br><span class="line">        <span class="keyword">if</span> (a[<span class="number">0</span>].<span class="title function_">charAt</span>(i) != <span class="number">0</span>)</span><br><span class="line">            re = <span class="variable constant_">AA</span>[a[<span class="number">0</span>].<span class="title function_">charAt</span>(i)] + <span class="variable constant_">BB</span>[k % <span class="number">4</span>] + re;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (a.<span class="property">length</span> &gt; <span class="number">1</span>) <span class="comment">// 加上小数部分(如果有小数部分)</span></span><br><span class="line">    &#123;</span><br><span class="line">        re += <span class="variable constant_">BB</span>[<span class="number">6</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; a[<span class="number">1</span>].<span class="property">length</span>; i++)</span><br><span class="line">            re += <span class="variable constant_">AA</span>[a[<span class="number">1</span>].<span class="title function_">charAt</span>(i)];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (re == <span class="string">&#x27;一十&#x27;</span>)</span><br><span class="line">        re = <span class="string">&quot;十&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (re.<span class="title function_">match</span>(<span class="regexp">/^一/</span>) &amp;&amp; re.<span class="property">length</span> == <span class="number">3</span>)</span><br><span class="line">        re = re.<span class="title function_">replace</span>(<span class="string">&quot;一&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> re;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5、数组排序"><a href="#5、数组排序" class="headerlink" title="5、数组排序"></a>5、数组排序</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">arrSort</span> = (<span class="params">arr,type=<span class="number">1</span></span>) =&gt;&#123;</span><br><span class="line">	<span class="keyword">return</span> arr.<span class="title function_">sort</span>(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">switch</span>(type)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>: 			<span class="comment">//从小到大</span></span><br><span class="line">                <span class="keyword">return</span> a-b;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>: 			<span class="comment">//从大到小</span></span><br><span class="line">                <span class="keyword">return</span> b-a;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:				<span class="comment">//随机</span></span><br><span class="line">                <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>() - <span class="number">0.5</span>;</span><br><span class="line">            <span class="attr">default</span>:</span><br><span class="line">                <span class="keyword">return</span> arr;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="6、数组去重"><a href="#6、数组去重" class="headerlink" title="6、数组去重"></a>6、数组去重</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">unique</span> = (<span class="params">arr</span>) =&gt; &#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="title class_">Array</span>.<span class="property">from</span>)&#123;				<span class="comment">//es6新属性 返回一个新的、浅拷贝的数组 判断当前浏览器是否支持此属性</span></span><br><span class="line">		<span class="keyword">return</span> <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="keyword">new</span> <span class="title class_">Set</span>(arr));</span><br><span class="line">	&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">var</span> map=&#123;&#125;,newArr = [];</span><br><span class="line">		arr.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">			<span class="keyword">if</span>(!map[item])&#123;</span><br><span class="line">				map[item] = <span class="literal">true</span>;</span><br><span class="line">				newArr.<span class="title function_">push</span>(item);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;)</span><br><span class="line">		<span class="keyword">return</span> newArr;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Array.from实现原理</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="title class_">Array</span>.<span class="property">from</span>) &#123;</span><br><span class="line">  <span class="title class_">Array</span>.<span class="property">from</span> = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> toStr = <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>;</span><br><span class="line">    <span class="keyword">var</span> isCallable = <span class="keyword">function</span> (<span class="params">fn</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">typeof</span> fn === <span class="string">&#x27;function&#x27;</span> || toStr.<span class="title function_">call</span>(fn) === <span class="string">&#x27;[object Function]&#x27;</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> toInteger = <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> number = <span class="title class_">Number</span>(value);</span><br><span class="line">      <span class="keyword">if</span> (<span class="built_in">isNaN</span>(number)) &#123; <span class="keyword">return</span> <span class="number">0</span>; &#125;</span><br><span class="line">      <span class="keyword">if</span> (number === <span class="number">0</span> || !<span class="built_in">isFinite</span>(number)) &#123; <span class="keyword">return</span> number; &#125;</span><br><span class="line">      <span class="keyword">return</span> (number &gt; <span class="number">0</span> ? <span class="number">1</span> : -<span class="number">1</span>) * <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">abs</span>(number));</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">var</span> maxSafeInteger = <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">2</span>, <span class="number">53</span>) - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> toLength = <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> len = <span class="title function_">toInteger</span>(value);</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="title class_">Math</span>.<span class="title function_">max</span>(len, <span class="number">0</span>), maxSafeInteger);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The length property of the from method is 1.</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">from</span>(<span class="params">arrayLike<span class="comment">/*, mapFn, thisArg */</span></span>) &#123;</span><br><span class="line">      <span class="comment">// 1. Let C be the this value.</span></span><br><span class="line">      <span class="keyword">var</span> C = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 2. Let items be ToObject(arrayLike).</span></span><br><span class="line">      <span class="keyword">var</span> items = <span class="title class_">Object</span>(arrayLike);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 3. ReturnIfAbrupt(items).</span></span><br><span class="line">      <span class="keyword">if</span> (arrayLike == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&quot;Array.from requires an array-like object - not null or undefined&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 4. If mapfn is undefined, then let mapping be false.</span></span><br><span class="line">      <span class="keyword">var</span> mapFn = <span class="variable language_">arguments</span>.<span class="property">length</span> &gt; <span class="number">1</span> ? <span class="variable language_">arguments</span>[<span class="number">1</span>] : <span class="keyword">void</span> <span class="literal">undefined</span>;</span><br><span class="line">      <span class="keyword">var</span> T;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">typeof</span> mapFn !== <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">        <span class="comment">// 5. else</span></span><br><span class="line">        <span class="comment">// 5. a If IsCallable(mapfn) is false, throw a TypeError exception.</span></span><br><span class="line">        <span class="keyword">if</span> (!<span class="title function_">isCallable</span>(mapFn)) &#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;Array.from: when provided, the second argument must be a function&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5. b. If thisArg was supplied, let T be thisArg; else let T be undefined.</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">arguments</span>.<span class="property">length</span> &gt; <span class="number">2</span>) &#123;</span><br><span class="line">          T = <span class="variable language_">arguments</span>[<span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 10. Let lenValue be Get(items, &quot;length&quot;).</span></span><br><span class="line">      <span class="comment">// 11. Let len be ToLength(lenValue).</span></span><br><span class="line">      <span class="keyword">var</span> len = <span class="title function_">toLength</span>(items.<span class="property">length</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 13. If IsConstructor(C) is true, then</span></span><br><span class="line">      <span class="comment">// 13. a. Let A be the result of calling the [[Construct]] internal method </span></span><br><span class="line">      <span class="comment">// of C with an argument list containing the single item len.</span></span><br><span class="line">      <span class="comment">// 14. a. Else, Let A be ArrayCreate(len).</span></span><br><span class="line">      <span class="keyword">var</span> A = <span class="title function_">isCallable</span>(C) ? <span class="title class_">Object</span>(<span class="keyword">new</span> <span class="title function_">C</span>(len)) : <span class="keyword">new</span> <span class="title class_">Array</span>(len);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 16. Let k be 0.</span></span><br><span class="line">      <span class="keyword">var</span> k = <span class="number">0</span>;</span><br><span class="line">      <span class="comment">// 17. Repeat, while k &lt; len… (also steps a - h)</span></span><br><span class="line">      <span class="keyword">var</span> kValue;</span><br><span class="line">      <span class="keyword">while</span> (k &lt; len) &#123;</span><br><span class="line">        kValue = items[k];</span><br><span class="line">        <span class="keyword">if</span> (mapFn) &#123;</span><br><span class="line">          A[k] = <span class="keyword">typeof</span> T === <span class="string">&#x27;undefined&#x27;</span> ? <span class="title function_">mapFn</span>(kValue, k) : mapFn.<span class="title function_">call</span>(T, kValue, k);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          A[k] = kValue;</span><br><span class="line">        &#125;</span><br><span class="line">        k += <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// 18. Let putStatus be Put(A, &quot;length&quot;, len, true).</span></span><br><span class="line">      A.<span class="property">length</span> = len;</span><br><span class="line">      <span class="comment">// 20. Return A.</span></span><br><span class="line">      <span class="keyword">return</span> A;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="7、去除空格"><a href="#7、去除空格" class="headerlink" title="7、去除空格"></a>7、去除空格</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">trim</span> = (<span class="params">str,type=<span class="number">1</span></span>) =&gt; &#123;</span><br><span class="line">	<span class="keyword">switch</span> (type)&#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:					<span class="comment">//去除所有空格</span></span><br><span class="line">            <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/\s+/g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:					<span class="comment">//去除前后空格</span></span><br><span class="line">            <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/(^\s*)|(\s*$)/g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:					<span class="comment">//去除前面的空格</span></span><br><span class="line">            <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/(^\s*)/g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:					<span class="comment">//去除后面的空格</span></span><br><span class="line">            <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/(\s*$)/g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="keyword">return</span> str;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8、大小写转换"><a href="#8、大小写转换" class="headerlink" title="8、大小写转换"></a>8、大小写转换</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">changeCase</span> = (<span class="params">str, type = <span class="number">4</span></span>) =&gt; &#123;</span><br><span class="line">	<span class="keyword">switch</span>(type)&#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:			<span class="comment">//首字母大写</span></span><br><span class="line">            <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/\b\w+\b/g</span>.<span class="keyword">function</span>(<span class="params">word</span>)&#123;</span><br><span class="line">            	<span class="keyword">return</span> word.<span class="title function_">substring</span>(<span class="number">0</span>,<span class="number">1</span>).<span class="title function_">toUpperCase</span>() + word.<span class="title function_">substring</span>(<span class="number">1</span>).<span class="title function_">toLowerCase</span>();</span><br><span class="line">            	&#125;);</span><br><span class="line">    	<span class="keyword">case</span> <span class="number">2</span>:			<span class="comment">//首字母小写</span></span><br><span class="line">            <span class="keyword">return</span> str.<span class="title function_">replace</span>(<span class="regexp">/\b\w+\b/g</span>, <span class="keyword">function</span> (<span class="params">word</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> word.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="number">1</span>).<span class="title function_">toLowerCase</span>() + word.<span class="title function_">substring</span>(<span class="number">1</span>).<span class="title function_">toUpperCase</span>();</span><br><span class="line">            &#125;);</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:			<span class="comment">//大小写互换</span></span><br><span class="line">            <span class="keyword">return</span> str.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">word</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="regexp">/[a-z]/</span>.<span class="title function_">test</span>(word)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> word.<span class="title function_">toUpperCase</span>();</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> word.<span class="title function_">toLowerCase</span>()</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:			<span class="comment">//全部大写</span></span><br><span class="line">            <span class="keyword">return</span> str.<span class="title function_">toUpperCase</span>();</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:			<span class="comment">//全部小写</span></span><br><span class="line">            <span class="keyword">return</span> str.<span class="title function_">toLowerCase</span>();</span><br><span class="line">        <span class="attr">default</span>:</span><br><span class="line">            <span class="keyword">return</span> str;</span><br><span class="line">    		</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="9、检测密码强度"><a href="#9、检测密码强度" class="headerlink" title="9、检测密码强度"></a>9、检测密码强度</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">checkPwd</span> = (<span class="params">pwd</span>) =&gt; &#123;</span><br><span class="line">	<span class="keyword">var</span> <span class="title class_">Lv</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (str.<span class="property">length</span> &lt; <span class="number">6</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Lv</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/[0-9]/</span>.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">        <span class="title class_">Lv</span>++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/[a-z]/</span>.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">        <span class="title class_">Lv</span>++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/[A-Z]/</span>.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">        <span class="title class_">Lv</span>++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/[\.|-|_]/</span>.<span class="title function_">test</span>(str)) &#123;</span><br><span class="line">        <span class="title class_">Lv</span>++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Lv</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="10、函数节流"><a href="#10、函数节流" class="headerlink" title="10、函数节流"></a>10、函数节流</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">debouncer</span> = (<span class="params">fn, time, interval = <span class="number">200</span></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (time - (<span class="variable language_">window</span>.<span class="property">debounceTimestamp</span> || <span class="number">0</span>) &gt; interval) &#123;</span><br><span class="line">        fn &amp;&amp; <span class="title function_">fn</span>();</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">debounceTimestamp</span> = time;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="11、16进制颜色转RGBA字符串"><a href="#11、16进制颜色转RGBA字符串" class="headerlink" title="11、16进制颜色转RGBA字符串"></a>11、16进制颜色转RGBA字符串</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">colorToRGB</span> = (<span class="params">val, opa</span>) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> pattern = <span class="regexp">/^(#?)[a-fA-F0-9]&#123;6&#125;$/</span>; <span class="comment">//16进制颜色值校验规则</span></span><br><span class="line">    <span class="keyword">var</span> isOpa = <span class="keyword">typeof</span> opa == <span class="string">&#x27;number&#x27;</span>; <span class="comment">//判断是否有设置不透明度</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!pattern.<span class="title function_">test</span>(val)) &#123; <span class="comment">//如果值不符合规则返回空字符</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> v = val.<span class="title function_">replace</span>(<span class="regexp">/#/</span>, <span class="string">&#x27;&#x27;</span>); <span class="comment">//如果有#号先去除#号</span></span><br><span class="line">    <span class="keyword">var</span> rgbArr = [];</span><br><span class="line">    <span class="keyword">var</span> rgbStr = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> item = v.<span class="title function_">substring</span>(i * <span class="number">2</span>, i * <span class="number">2</span> + <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">var</span> num = <span class="built_in">parseInt</span>(item, <span class="number">16</span>);</span><br><span class="line">        rgbArr.<span class="title function_">push</span>(num);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    rgbStr = rgbArr.<span class="title function_">join</span>();</span><br><span class="line">    rgbStr = <span class="string">&#x27;rgb&#x27;</span> + (isOpa ? <span class="string">&#x27;a&#x27;</span> : <span class="string">&#x27;&#x27;</span>) + <span class="string">&#x27;(&#x27;</span> + rgbStr + (isOpa ? <span class="string">&#x27;,&#x27;</span> + opa : <span class="string">&#x27;&#x27;</span>) + <span class="string">&#x27;)&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> rgbStr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="12、平滑的滚动到页面顶部"><a href="#12、平滑的滚动到页面顶部" class="headerlink" title="12、平滑的滚动到页面顶部"></a>12、平滑的滚动到页面顶部</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">scrollToTop</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> c = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> || <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>;</span><br><span class="line">    <span class="keyword">if</span> (c &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(scrollToTop);</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">scrollTo</span>(<span class="number">0</span>, c - c / <span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="13、前台生成验证码并且进行校验"><a href="#13、前台生成验证码并且进行校验" class="headerlink" title="13、前台生成验证码并且进行校验"></a>13、前台生成验证码并且进行校验</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">!(<span class="keyword">function</span> (<span class="params"><span class="variable language_">window</span>, <span class="variable language_">document</span></span>) &#123;</span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">GVerify</span>(<span class="params">options</span>) &#123; <span class="comment">//创建一个图形验证码对象，接收options对象为参数</span></span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">options</span> = &#123; <span class="comment">//默认options参数值</span></span><br><span class="line">       <span class="attr">id</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//容器Id</span></span><br><span class="line">       <span class="attr">canvasId</span>: <span class="string">&quot;verifyCanvas&quot;</span>, <span class="comment">//canvas的ID</span></span><br><span class="line">       <span class="attr">width</span>: <span class="string">&quot;100&quot;</span>, <span class="comment">//默认canvas宽度</span></span><br><span class="line">       <span class="attr">height</span>: <span class="string">&quot;30&quot;</span>, <span class="comment">//默认canvas高度</span></span><br><span class="line">       <span class="attr">type</span>: <span class="string">&quot;blend&quot;</span>, <span class="comment">//图形验证码默认类型blend:数字字母混合类型、number:纯数字、letter:纯字母</span></span><br><span class="line">       <span class="attr">code</span>: <span class="string">&quot;&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span> (<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(options) == <span class="string">&quot;[object Object]&quot;</span>) &#123;<span class="comment">//判断传入参数类型</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> options) &#123; <span class="comment">//根据传入的参数，修改默认参数值</span></span><br><span class="line">         <span class="variable language_">this</span>.<span class="property">options</span>[i] = options[i];</span><br><span class="line">       &#125;</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">id</span> = options;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">numArr</span> = <span class="string">&quot;0,1,2,3,4,5,6,7,8,9&quot;</span>.<span class="title function_">split</span>(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">letterArr</span> = <span class="title function_">getAllLetter</span>();</span><br><span class="line"></span><br><span class="line">     <span class="variable language_">this</span>.<span class="title function_">_init</span>();</span><br><span class="line">     <span class="variable language_">this</span>.<span class="title function_">refresh</span>();</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="title class_">GVerify</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">     <span class="comment">/**版本号**/</span></span><br><span class="line">     <span class="attr">version</span>: <span class="string">&#x27;1.0.0&#x27;</span>,</span><br><span class="line"></span><br><span class="line">     <span class="comment">/**初始化方法**/</span></span><br><span class="line">     <span class="attr">_init</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">       <span class="keyword">var</span> con = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">id</span>);</span><br><span class="line">       <span class="keyword">var</span> canvas = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;canvas&quot;</span>);</span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">width</span> = con.<span class="property">offsetWidth</span> &gt; <span class="number">0</span> ? con.<span class="property">offsetWidth</span> : <span class="string">&quot;100&quot;</span>;</span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">height</span> = con.<span class="property">offsetHeight</span> &gt; <span class="number">0</span> ? con.<span class="property">offsetHeight</span> : <span class="string">&quot;30&quot;</span>;</span><br><span class="line">       canvas.<span class="property">id</span> = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">canvasId</span>;</span><br><span class="line">       canvas.<span class="property">width</span> = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">width</span>;</span><br><span class="line">       canvas.<span class="property">height</span> = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">height</span>;</span><br><span class="line">       canvas.<span class="property">style</span>.<span class="property">cursor</span> = <span class="string">&quot;pointer&quot;</span>;</span><br><span class="line">       canvas.<span class="property">innerHTML</span> = <span class="string">&quot;您的浏览器版本不支持canvas&quot;</span>;</span><br><span class="line">       con.<span class="title function_">appendChild</span>(canvas);</span><br><span class="line">       <span class="keyword">var</span> parent = <span class="variable language_">this</span>;</span><br><span class="line">       canvas.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">         parent.<span class="title function_">refresh</span>();</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br><span class="line"></span><br><span class="line">     <span class="comment">/**生成验证码**/</span></span><br><span class="line">     <span class="attr">refresh</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">       <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">code</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">       <span class="keyword">var</span> canvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">canvasId</span>);</span><br><span class="line">       <span class="keyword">if</span> (canvas.<span class="property">getContext</span>) &#123;</span><br><span class="line">         <span class="keyword">var</span> ctx = canvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       ctx.<span class="property">textBaseline</span> = <span class="string">&quot;middle&quot;</span>;</span><br><span class="line"></span><br><span class="line">       ctx.<span class="property">fillStyle</span> = <span class="title function_">randomColor</span>(<span class="number">180</span>, <span class="number">240</span>);</span><br><span class="line">       ctx.<span class="title function_">fillRect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">width</span>, <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">height</span>);</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">type</span> == <span class="string">&quot;blend&quot;</span>) &#123; <span class="comment">//判断验证码类型</span></span><br><span class="line">         <span class="keyword">var</span> txtArr = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">numArr</span>.<span class="title function_">concat</span>(<span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">letterArr</span>);</span><br><span class="line">       &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">type</span> == <span class="string">&quot;number&quot;</span>) &#123;</span><br><span class="line">         <span class="keyword">var</span> txtArr = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">numArr</span>;</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="keyword">var</span> txtArr = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">letterArr</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">1</span>; i &lt;= <span class="number">4</span>; i++) &#123;</span><br><span class="line">         <span class="keyword">var</span> txt = txtArr[<span class="title function_">randomNum</span>(<span class="number">0</span>, txtArr.<span class="property">length</span>)];</span><br><span class="line">         <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">code</span> += txt;</span><br><span class="line">         ctx.<span class="property">font</span> = <span class="title function_">randomNum</span>(<span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">height</span> / <span class="number">2</span>, <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">height</span>) + <span class="string">&#x27;px SimHei&#x27;</span>; <span class="comment">//随机生成字体大小</span></span><br><span class="line">         ctx.<span class="property">fillStyle</span> = <span class="title function_">randomColor</span>(<span class="number">50</span>, <span class="number">160</span>); <span class="comment">//随机生成字体颜色        </span></span><br><span class="line">         ctx.<span class="property">shadowOffsetX</span> = <span class="title function_">randomNum</span>(-<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">         ctx.<span class="property">shadowOffsetY</span> = <span class="title function_">randomNum</span>(-<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">         ctx.<span class="property">shadowBlur</span> = <span class="title function_">randomNum</span>(-<span class="number">3</span>, <span class="number">3</span>);</span><br><span class="line">         ctx.<span class="property">shadowColor</span> = <span class="string">&quot;rgba(0, 0, 0, 0.3)&quot;</span>;</span><br><span class="line">         <span class="keyword">var</span> x = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">width</span> / <span class="number">5</span> * i;</span><br><span class="line">         <span class="keyword">var</span> y = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">height</span> / <span class="number">2</span>;</span><br><span class="line">         <span class="keyword">var</span> deg = <span class="title function_">randomNum</span>(-<span class="number">30</span>, <span class="number">30</span>);</span><br><span class="line">         <span class="comment">/**设置旋转角度和坐标原点**/</span></span><br><span class="line">         ctx.<span class="title function_">translate</span>(x, y);</span><br><span class="line">         ctx.<span class="title function_">rotate</span>(deg * <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">180</span>);</span><br><span class="line">         ctx.<span class="title function_">fillText</span>(txt, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">         <span class="comment">/**恢复旋转角度和坐标原点**/</span></span><br><span class="line">         ctx.<span class="title function_">rotate</span>(-deg * <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">180</span>);</span><br><span class="line">         ctx.<span class="title function_">translate</span>(-x, -y);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">/**绘制干扰线**/</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">         ctx.<span class="property">strokeStyle</span> = <span class="title function_">randomColor</span>(<span class="number">40</span>, <span class="number">180</span>);</span><br><span class="line">         ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">         ctx.<span class="title function_">moveTo</span>(<span class="title function_">randomNum</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">width</span>), <span class="title function_">randomNum</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">height</span>));</span><br><span class="line">         ctx.<span class="title function_">lineTo</span>(<span class="title function_">randomNum</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">width</span>), <span class="title function_">randomNum</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">height</span>));</span><br><span class="line">         ctx.<span class="title function_">stroke</span>();</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">/**绘制干扰点**/</span></span><br><span class="line">       <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">width</span> / <span class="number">4</span>; i++) &#123;</span><br><span class="line">         ctx.<span class="property">fillStyle</span> = <span class="title function_">randomColor</span>(<span class="number">0</span>, <span class="number">255</span>);</span><br><span class="line">         ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">         ctx.<span class="title function_">arc</span>(<span class="title function_">randomNum</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">width</span>), <span class="title function_">randomNum</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">height</span>), <span class="number">1</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>);</span><br><span class="line">         ctx.<span class="title function_">fill</span>();</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;,</span><br><span class="line"></span><br><span class="line">     <span class="comment">/**验证验证码**/</span></span><br><span class="line">     <span class="attr">validate</span>: <span class="keyword">function</span> (<span class="params">code</span>) &#123;</span><br><span class="line">       <span class="keyword">var</span> code = code.<span class="title function_">toLowerCase</span>();</span><br><span class="line">       <span class="keyword">var</span> v_code = <span class="variable language_">this</span>.<span class="property">options</span>.<span class="property">code</span>.<span class="title function_">toLowerCase</span>();</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(v_code);</span><br><span class="line">       <span class="keyword">if</span> (code == v_code) &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         <span class="variable language_">this</span>.<span class="title function_">refresh</span>();</span><br><span class="line">         <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">/**生成字母数组**/</span></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">getAllLetter</span>(<span class="params"></span>) &#123;</span><br><span class="line">     <span class="keyword">var</span> letterStr = <span class="string">&quot;a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z&quot;</span>;</span><br><span class="line">     <span class="keyword">return</span> letterStr.<span class="title function_">split</span>(<span class="string">&quot;,&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">/**生成一个随机数**/</span></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">randomNum</span>(<span class="params">min, max</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * (max - min) + min);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">/**生成一个随机色**/</span></span><br><span class="line">   <span class="keyword">function</span> <span class="title function_">randomColor</span>(<span class="params">min, max</span>) &#123;</span><br><span class="line">     <span class="keyword">var</span> r = <span class="title function_">randomNum</span>(min, max);</span><br><span class="line">     <span class="keyword">var</span> g = <span class="title function_">randomNum</span>(min, max);</span><br><span class="line">     <span class="keyword">var</span> b = <span class="title function_">randomNum</span>(min, max);</span><br><span class="line">     <span class="keyword">return</span> <span class="string">&quot;rgb(&quot;</span> + r + <span class="string">&quot;,&quot;</span> + g + <span class="string">&quot;,&quot;</span> + b + <span class="string">&quot;)&quot;</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="variable language_">window</span>.<span class="property">GVerify</span> = <span class="title class_">GVerify</span>;</span><br><span class="line"> &#125;)(<span class="variable language_">window</span>, <span class="variable language_">document</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;v_container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width: 200px;height: 50px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;code_input&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入验证码&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;my_button&quot;</span>&gt;</span>验证<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;./gVerify.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>   //上文的js文件</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">var</span> verifyCode = <span class="keyword">new</span> <span class="title class_">GVerify</span>(<span class="string">&quot;v_container&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;my_button&quot;</span>).<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> res = verifyCode.<span class="title function_">validate</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;code_input&quot;</span>).<span class="property">value</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">if</span> (res) &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">alert</span>(<span class="string">&quot;验证正确&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">alert</span>(<span class="string">&quot;验证码错误&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript"> </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="14、页面禁用右键菜单、F12键、复制、粘贴、剪切、选中"><a href="#14、页面禁用右键菜单、F12键、复制、粘贴、剪切、选中" class="headerlink" title="14、页面禁用右键菜单、F12键、复制、粘贴、剪切、选中"></a>14、页面禁用右键菜单、F12键、复制、粘贴、剪切、选中</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*屏蔽F12 审查元素*/</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">onkeydown</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">event</span> &amp;&amp; <span class="variable language_">window</span>.<span class="property">event</span>.<span class="property">keyCode</span> == <span class="number">123</span>) &#123;</span><br><span class="line">      <span class="title function_">alert</span>(<span class="string">&quot;F12被禁用&quot;</span>);</span><br><span class="line">      event.<span class="property">keyCode</span> = <span class="number">0</span>;</span><br><span class="line">      event.<span class="property">returnValue</span> = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//屏蔽右键菜单</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">oncontextmenu</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">event</span>) &#123;</span><br><span class="line">      event = <span class="variable language_">window</span>.<span class="property">event</span>;</span><br><span class="line">    &#125; <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> the = event.<span class="property">srcElement</span>;</span><br><span class="line">      <span class="keyword">if</span> (!((the.<span class="property">tagName</span> == <span class="string">&quot;INPUT&quot;</span> &amp;&amp; the.<span class="property">type</span>.<span class="title function_">toLowerCase</span>() == <span class="string">&quot;text&quot;</span>) || the.<span class="property">tagName</span> == <span class="string">&quot;TEXTAREA&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//屏蔽粘贴</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">onpaste</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">event</span>) &#123;</span><br><span class="line">      event = <span class="variable language_">window</span>.<span class="property">event</span>;</span><br><span class="line">    &#125; <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> the = event.<span class="property">srcElement</span>;</span><br><span class="line">      <span class="keyword">if</span> (!((the.<span class="property">tagName</span> == <span class="string">&quot;INPUT&quot;</span> &amp;&amp; the.<span class="property">type</span>.<span class="title function_">toLowerCase</span>() == <span class="string">&quot;text&quot;</span>) || the.<span class="property">tagName</span> == <span class="string">&quot;TEXTAREA&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//屏蔽复制</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">oncopy</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">event</span>) &#123;</span><br><span class="line">      event = <span class="variable language_">window</span>.<span class="property">event</span>;</span><br><span class="line">    &#125; <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> the = event.<span class="property">srcElement</span>;</span><br><span class="line">      <span class="keyword">if</span> (!((the.<span class="property">tagName</span> == <span class="string">&quot;INPUT&quot;</span> &amp;&amp; the.<span class="property">type</span>.<span class="title function_">toLowerCase</span>() == <span class="string">&quot;text&quot;</span>) || the.<span class="property">tagName</span> == <span class="string">&quot;TEXTAREA&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//屏蔽剪切</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">oncut</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">event</span>) &#123;</span><br><span class="line">      event = <span class="variable language_">window</span>.<span class="property">event</span>;</span><br><span class="line">    &#125; <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> the = event.<span class="property">srcElement</span>;</span><br><span class="line">      <span class="keyword">if</span> (!((the.<span class="property">tagName</span> == <span class="string">&quot;INPUT&quot;</span> &amp;&amp; the.<span class="property">type</span>.<span class="title function_">toLowerCase</span>() == <span class="string">&quot;text&quot;</span>) || the.<span class="property">tagName</span> == <span class="string">&quot;TEXTAREA&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//屏蔽选中</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">onselectstart</span> = <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">event</span>) &#123;</span><br><span class="line">      event = <span class="variable language_">window</span>.<span class="property">event</span>;</span><br><span class="line">    &#125; <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> the = event.<span class="property">srcElement</span>;</span><br><span class="line">      <span class="keyword">if</span> (!((the.<span class="property">tagName</span> == <span class="string">&quot;INPUT&quot;</span> &amp;&amp; the.<span class="property">type</span>.<span class="title function_">toLowerCase</span>() == <span class="string">&quot;text&quot;</span>) || the.<span class="property">tagName</span> == <span class="string">&quot;TEXTAREA&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h4 id="15、单行写一个评级组件"><a href="#15、单行写一个评级组件" class="headerlink" title="15、单行写一个评级组件"></a>15、单行写一个评级组件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> rate = <span class="number">3</span>;  </span><br><span class="line"><span class="string">&quot;★★★★★☆☆☆☆☆&quot;</span>.<span class="title function_">slice</span>(<span class="number">5</span> - rate, <span class="number">10</span> - rate);<span class="comment">//&quot;★★★☆☆&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="16、金钱格式化"><a href="#16、金钱格式化" class="headerlink" title="16、金钱格式化"></a>16、金钱格式化</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正则  </span></span><br><span class="line"><span class="keyword">let</span> cash = <span class="string">&#x27;1234567890&#x27;</span>  </span><br><span class="line">cash.<span class="title function_">replace</span>(<span class="regexp">/\B(?=(\d&#123;3&#125;)+(?!\d))/g</span>, <span class="string">&#x27;,&#x27;</span>);<span class="comment">//&quot;1,234,567,890&quot;  </span></span><br><span class="line"><span class="comment">//非正则的优雅实现  </span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">formatCash</span>(<span class="params">str</span>) &#123;  </span><br><span class="line"> <span class="keyword">return</span> str.<span class="title function_">split</span>(<span class="string">&#x27;&#x27;</span>).<span class="title function_">reverse</span>().<span class="title function_">reduce</span>(<span class="function">(<span class="params">prev, next, index</span>) =&gt;</span> &#123;  </span><br><span class="line"> <span class="keyword">return</span> ((index % <span class="number">3</span>) ? next : (next + <span class="string">&#x27;,&#x27;</span>)) + prev  </span><br><span class="line"> &#125;)  </span><br><span class="line">&#125;  </span><br><span class="line"><span class="title function_">formatCash</span>(cash);<span class="comment">//&quot;1,234,567,890&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="17、获取当前时间"><a href="#17、获取当前时间" class="headerlink" title="17、获取当前时间"></a>17、获取当前时间</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getNowTime</span>(<span class="params">string</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> date = string ? <span class="keyword">new</span> <span class="title class_">Date</span>() : <span class="keyword">new</span> <span class="title class_">Date</span>(string);</span><br><span class="line">    <span class="keyword">var</span> year = date.<span class="title function_">getFullYear</span>(),</span><br><span class="line">        month = <span class="title function_">addZero</span>(date.<span class="title function_">getMonth</span>() + <span class="number">1</span>),</span><br><span class="line">        day = <span class="title function_">addZero</span>(date.<span class="title function_">getDate</span>()),</span><br><span class="line">        hour = <span class="title function_">addZero</span>(date.<span class="title function_">getHours</span>()),</span><br><span class="line">        min = <span class="title function_">addZero</span>(date.<span class="title function_">getMinutes</span>()),</span><br><span class="line">        second = <span class="title function_">addZero</span>(date.<span class="title function_">getSeconds</span>());</span><br><span class="line">    <span class="keyword">return</span> year + <span class="string">&#x27;年&#x27;</span> + month + <span class="string">&#x27;月&#x27;</span> + day + <span class="string">&#x27;日&#x27;</span> + <span class="string">&#x27; &#x27;</span> + hour + <span class="string">&#x27;:&#x27;</span> + min + <span class="string">&#x27;:&#x27;</span> + second;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 时间补零操作</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addZero</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + num : num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="18、倒计时计算"><a href="#18、倒计时计算" class="headerlink" title="18、倒计时计算"></a>18、倒计时计算</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getNowTime</span>(<span class="params">startTime</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> dateString = <span class="keyword">new</span> <span class="title class_">Date</span>(startTime).<span class="title function_">getTime</span>() - <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>()</span><br><span class="line">    <span class="keyword">if</span>(dateString &lt;= <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//倒计时完毕</span></span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//计算出相差天数</span></span><br><span class="line">        <span class="keyword">var</span> days=<span class="title class_">Math</span>.<span class="title function_">floor</span>(dateString/(<span class="number">24</span>*<span class="number">3600</span>*<span class="number">1000</span>))</span><br><span class="line">        <span class="keyword">var</span> leave1=dateString%(<span class="number">24</span>*<span class="number">3600</span>*<span class="number">1000</span>)    <span class="comment">//计算天数后剩余的毫秒数</span></span><br><span class="line">        <span class="keyword">var</span> hours=<span class="title class_">Math</span>.<span class="title function_">floor</span>(leave1/(<span class="number">3600</span>*<span class="number">1000</span>))</span><br><span class="line">        <span class="comment">//计算相差分钟数</span></span><br><span class="line">        <span class="keyword">var</span> leave2=leave1%(<span class="number">3600</span>*<span class="number">1000</span>)        <span class="comment">//计算小时数后剩余的毫秒数</span></span><br><span class="line">        <span class="keyword">var</span> minutes=<span class="title class_">Math</span>.<span class="title function_">floor</span>(leave2/(<span class="number">60</span>*<span class="number">1000</span>))</span><br><span class="line">        <span class="comment">//计算相差秒数</span></span><br><span class="line">        <span class="keyword">var</span> leave3=leave2%(<span class="number">60</span>*<span class="number">1000</span>)      <span class="comment">//计算分钟数后剩余的毫秒数</span></span><br><span class="line">        <span class="keyword">var</span> seconds=<span class="title class_">Math</span>.<span class="title function_">round</span>(leave3/<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> lastDay = days === <span class="number">0</span> ? <span class="string">&#x27;&#x27;</span>: <span class="title function_">addZero</span>(days) + <span class="string">&#x27;天&#x27;</span>;</span><br><span class="line">        <span class="keyword">var</span> lastHours = hours === <span class="number">0</span> ? <span class="string">&#x27;&#x27;</span>: <span class="title function_">addZero</span>(hours) + <span class="string">&#x27;时&#x27;</span>;</span><br><span class="line">        <span class="keyword">var</span> lastMinutes = minutes === <span class="number">0</span> ? <span class="string">&#x27;&#x27;</span>: <span class="title function_">addZero</span>(minutes) + <span class="string">&#x27;分&#x27;</span>;</span><br><span class="line">        <span class="keyword">var</span> lastSeconds = seconds === <span class="number">0</span> ? <span class="string">&#x27;0秒&#x27;</span>: <span class="title function_">addZero</span>(seconds) + <span class="string">&#x27;秒&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> lastDay + lastHours + lastMinutes + lastSeconds;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 时间补零操作</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addZero</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> num &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + num : num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="19、获取地址栏的参数值"><a href="#19、获取地址栏的参数值" class="headerlink" title="19、获取地址栏的参数值"></a>19、获取地址栏的参数值</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取地址栏里的参数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getParams</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&quot;(^|&amp;)&quot;</span> + name + <span class="string">&quot;=([^&amp;]*)(&amp;|$)&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> r = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">search</span>.<span class="title function_">substr</span>(<span class="number">1</span>).<span class="title function_">match</span>(reg);</span><br><span class="line">  <span class="keyword">if</span> (r != <span class="literal">null</span>) <span class="keyword">return</span> <span class="built_in">unescape</span>(r[<span class="number">2</span>]);</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="20、判断在PC端还是手机端打开浏览器"><a href="#20、判断在PC端还是手机端打开浏览器" class="headerlink" title="20、判断在PC端还是手机端打开浏览器"></a>20、判断在PC端还是手机端打开浏览器</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取浏览器信息，并转小写</span></span><br><span class="line"><span class="keyword">let</span> userAgent = navigator.<span class="property">userAgent</span>.<span class="title function_">toLowerCase</span>();</span><br><span class="line"><span class="keyword">let</span> deviceType = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="comment">// 用 test 匹配浏览器信息</span></span><br><span class="line"><span class="keyword">if</span> (<span class="regexp">/ipad|iphone|midp|rv:1.2.3.4|ucweb|android|windows ce|windows mobile/</span>.<span class="title function_">test</span>(userAgent)) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;手机端打开&#x27;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;PC端打开&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="22、-从数组中查找特定元素"><a href="#22、-从数组中查找特定元素" class="headerlink" title="22、 从数组中查找特定元素"></a>22、 <strong>从数组中查找特定元素</strong></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fruits = [</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">&quot;Banana&quot;</span>, <span class="attr">color</span>: <span class="string">&quot;Yellow&quot;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">type</span>: <span class="string">&quot;Apple&quot;</span>, <span class="attr">color</span>: <span class="string">&quot;Green&quot;</span> &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// LONGER FORM</span></span><br><span class="line"><span class="keyword">let</span> yellowFruit;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; fruits.<span class="property">length</span>; ++i) &#123;</span><br><span class="line">  <span class="keyword">if</span> (fruits[i].<span class="property">color</span> === <span class="string">&quot;Yellow&quot;</span>) &#123;</span><br><span class="line">    yellowFruit = fruits[i];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// SHORTHAND</span></span><br><span class="line">yellowFruit = fruits.<span class="title function_">find</span>(<span class="function">(<span class="params">fruit</span>) =&gt;</span> fruit.<span class="property">color</span> === <span class="string">&quot;Yellow&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="23、默认功能参数"><a href="#23、默认功能参数" class="headerlink" title="23、默认功能参数"></a>23、<strong>默认功能参数</strong></h4><p>函数参数提供默认值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// LONG FORM -- 普通写法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">pickUp</span>(<span class="params">fruit</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span>(fruit === <span class="literal">undefined</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;I picked up a Banana&quot;</span>);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`I picked up a <span class="subst">$&#123;fruit&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// SHORTHAND -- 简便写法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">pickUp</span>(<span class="params">fruit = <span class="string">&quot;Banana&quot;</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`I picked up a <span class="subst">$&#123;fruit&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">pickUp</span>(<span class="string">&quot;Mango&quot;</span>); <span class="comment">// -&gt; I picked up a Mango</span></span><br><span class="line"><span class="title function_">pickUp</span>();        <span class="comment">// -&gt; I picked up a Banana</span></span><br></pre></td></tr></table></figure>

<h4 id="24、将对象的值收集到数组中"><a href="#24、将对象的值收集到数组中" class="headerlink" title="24、将对象的值收集到数组中"></a>24、<strong>将对象的值收集到数组中</strong></h4><p>用Object.values()将对象的所有值收集到一个新数组中：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> info = &#123; <span class="attr">name</span>: <span class="string">&quot;Matt&quot;</span>, <span class="attr">country</span>: <span class="string">&quot;Finland&quot;</span>, <span class="attr">age</span>: <span class="number">35</span> &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// LONGER FORM</span></span><br><span class="line"><span class="keyword">let</span> data = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> info) &#123;</span><br><span class="line">  data.<span class="title function_">push</span>(info[key]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// SHORTHAND</span></span><br><span class="line"><span class="keyword">const</span> data = <span class="title class_">Object</span>.<span class="title function_">values</span>(info);</span><br></pre></td></tr></table></figure>

<h4 id="25、检查一个项目是否存在于数组中"><a href="#25、检查一个项目是否存在于数组中" class="headerlink" title="25、检查一个项目是否存在于数组中"></a>25、<strong>检查一个项目是否存在于数组中</strong></h4><p>你可以使用 includes() 方法，而不是使用 indexOf() 方法来检查元素是否在数组中。这使你的意图非常明确：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// LONGER FORM</span></span><br><span class="line"><span class="keyword">const</span> hasNumber1 = numbers.<span class="title function_">indexOf</span>(<span class="number">1</span>) &gt; -<span class="number">1</span> <span class="comment">// -&gt; True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// SHORTHAND/CLEANER APPROACH</span></span><br><span class="line"><span class="keyword">const</span> hasNumber1 = numbers.<span class="title function_">includes</span>(<span class="number">1</span>)     <span class="comment">// -&gt; True</span></span><br></pre></td></tr></table></figure>

<h4 id="26、压缩多个条件"><a href="#26、压缩多个条件" class="headerlink" title="26、压缩多个条件"></a>26、<strong>压缩多个条件</strong></h4><p>避免使用长|| 检查多个条件链，你可以使用你刚刚在上一个技巧中学到的东西——即，使用 includes() 方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// LONGER FORM</span></span><br><span class="line"><span class="keyword">if</span>(num == <span class="number">1</span> || num == <span class="number">2</span> || num == <span class="number">3</span>)&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Yay&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// SHORTHAND</span></span><br><span class="line"><span class="keyword">if</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].<span class="title function_">includes</span>(num))&#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Yay&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="27、-指数运算符"><a href="#27、-指数运算符" class="headerlink" title="27、 指数运算符"></a>27、 <strong>指数运算符</strong></h4><p>你Math.pow()习惯把一个数字提高到一个幂吗？你知道你也可以使用**运算符吗？</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// LONGER FORM</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">4</span>,<span class="number">2</span>); <span class="comment">// 16</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">2</span>,<span class="number">3</span>); <span class="comment">// 8</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// SHORTHAND</span></span><br><span class="line"><span class="number">4</span>**<span class="number">2</span> <span class="comment">// 16</span></span><br><span class="line"><span class="number">2</span>**<span class="number">3</span> <span class="comment">// 8</span></span><br></pre></td></tr></table></figure>

<h4 id="28、-Math-floor-简写"><a href="#28、-Math-floor-简写" class="headerlink" title="28、 Math.floor() 简写"></a>28、 Math.floor() 简写</h4><p>四舍五入Math.floor()并不是什么新鲜事。但是你知道你也可以使用~~运算符吗？</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// LONG FORM</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">5.25</span>) <span class="comment">// -&gt; 5.0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// SHORTHAND</span></span><br><span class="line">~~<span class="number">5.25</span> <span class="comment">// -&gt; 5.0</span></span><br></pre></td></tr></table></figure>

<h4 id="29、用一行代码分配多个值"><a href="#29、用一行代码分配多个值" class="headerlink" title="29、用一行代码分配多个值"></a>29、<strong>用一行代码分配多个值</strong></h4><p>es6的解构赋值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1, num2;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LONGER FORM</span></span><br><span class="line">num1 = <span class="number">10</span>;</span><br><span class="line">num2 = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// SHORTHAND</span></span><br><span class="line">[num1, num2] = [<span class="number">10</span>, <span class="number">100</span>];</span><br></pre></td></tr></table></figure>

<p>也可用于对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">student = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;Matt&quot;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">29</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// LONGER FORM</span></span><br><span class="line"><span class="keyword">let</span> name = student.<span class="property">name</span>;</span><br><span class="line"><span class="keyword">let</span> age = student.<span class="property">age</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// SHORTHAND</span></span><br><span class="line"><span class="keyword">let</span> &#123; name, age &#125; = student;</span><br></pre></td></tr></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">xxlxl</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">2</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">xxlxl</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
